Apply non-style suggestions by `cargo clippy` to reduce allocations in the rust code.